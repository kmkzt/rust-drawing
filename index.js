!function(t){function e(e){for(var n,r,s=e[0],o=e[1],a=0,l=[];a<s.length;a++)r=s[a],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&l.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);for(u&&u(e);l.length;)l.shift()()}var n={},i={0:0};var r={};var s={2:function(){return{"./index_bg.js":{__wbindgen_throw:function(t,e){return n[1].exports.e(t,e)}}}}};function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=a);var l,h=document.createElement("script");h.charset="utf-8",h.timeout=120,o.nc&&h.setAttribute("nonce",o.nc),h.src=function(t){return o.p+""+t+".index.js"}(t);var u=new Error;l=function(e){h.onerror=h.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",u.name="ChunkLoadError",u.type=r,u.request=s,n[1](u)}i[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:h})}),12e4);h.onerror=h.onload=l,document.head.appendChild(h)}return({2:[2]}[t]||[]).forEach((function(t){var n=r[t];if(n)e.push(n);else{var i,a=s[t](),l=fetch(o.p+""+{2:"61ae6dc5cfb238d3ca94"}[t]+".module.wasm");if(a instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)i=Promise.all([WebAssembly.compileStreaming(l),a]).then((function(t){return WebAssembly.instantiate(t[0],t[1])}));else if("function"==typeof WebAssembly.instantiateStreaming)i=WebAssembly.instantiateStreaming(l,a);else{i=l.then((function(t){return t.arrayBuffer()})).then((function(t){return WebAssembly.instantiate(t,a)}))}e.push(r[t]=i.then((function(e){return o.w[t]=(e.instance||e).exports})))}})),Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t},o.w={};var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var h=0;h<a.length;h++)e(a[h]);var u=l;o(o.s=0)}([function(t,e,n){"use strict";n.r(e);class i{constructor(t,{pathClose:e,pathCirculer:r,delay:s}){this.pathClose=!1,this.pathCirculer=!1,this.drawable=!1,this.el=t,this.pathClose=null!=e&&e,this.pathCirculer=null!=r&&r,this.delay=null!=s?s:20,this.init=this.init.bind(this),this.handleMouse=this.handleMouse.bind(this),this.drawStart=this.drawStart.bind(this),this.drawMove=this.drawMove.bind(this),this.drawEnd=this.drawEnd.bind(this),this.startListener=this.startListener.bind(this),i.Mod||Promise.all([n.e(1),n.e(2)]).then(n.bind(null,10)).then(t=>{i.Mod=t,this.init()}).catch(console.error)}init(){const{width:t,height:e}=this.el.getBoundingClientRect();this.app=i.Mod.SvgDrawing.new(t,e),this.stopListener=this.startListener()}changeThrottle(t){this.delay=t,this.stopListener&&this.stopListener(),this.stopListener=this.startListener()}clear(){this.app.clear(),this.render()}handleMouse(t){return e=>{const n=this.el.getBoundingClientRect();t({x:e.clientX-n.left,y:e.clientY-n.top})}}drawStart({x:t,y:e}){this.wpath=i.Mod.SvgPath.new(this.pathClose,this.pathCirculer),this.wpath.add(i.Mod.Point.new(t,e)),this.app.add(this.wpath.copy()),this.el.innerHTML=this.app.to_string(),this.drawable=!0,console.log("START: x",t,"y",e)}drawMove({x:t,y:e}){this.drawable&&(this.wpath.add(i.Mod.Point.new(t,e)),this.app.update(this.wpath.copy()),this.render(),console.log("MOVE: x",t,"y",e,this.wpath.isClose()))}drawEnd({x:t,y:e}){this.drawable=!1,this.wpath.add(i.Mod.Point.new(t,e)),this.app.update(this.wpath),this.render(),console.log("END: x",t,"y",e)}startListener(){const t=this.handleMouse(this.drawStart),e=function(t,e,n={}){let i,r,s,o=null,a=0;const l=()=>{a=!1===n.leading?0:Date.now(),o=null,s=t.apply(i,r),o||(i=null,r=null)};return function(...h){const u=Date.now();a||!1!==n.leading||(a=u);const d=e-(u-a);return i=this,r=h,d<=0||d>e?(o&&(clearTimeout(o),o=null),a=u,s=t.apply(i,r),o||(i=null,r=null)):o||!1===n.trailing||(o=setTimeout(l,d)),s}}(this.handleMouse(this.drawMove),this.delay),n=this.handleMouse(this.drawEnd);return this.el.addEventListener("mousedown",t),this.el.addEventListener("mousemove",e),this.el.addEventListener("mouseup",n),()=>{this.el.removeEventListener("mousedown",t),this.el.removeEventListener("mousemove",e),this.el.removeEventListener("mouseup",n)}}render(){this.el.innerHTML=this.app.to_string()}}i.Mod=null;(()=>{const t=document.getElementById("app");if(!t)return;const e=new i(t,{});t.setAttribute("style","width: 500; height: 500; border: 1px solid #000;");const n=document.createElement("button");n.innerHTML="clear",n.addEventListener("click",()=>{e.clear()}),document.body.appendChild(n);const r=document.createElement("button");r.innerHTML="toggle close path",r.addEventListener("click",()=>{e.pathClose=!e.pathClose}),document.body.appendChild(r);const s=document.createElement("button");s.innerHTML="toggle circul path",s.addEventListener("click",()=>{e.pathCirculer=!e.pathCirculer}),document.body.appendChild(s);const o=document.createElement("span");o.innerHTML="throttle: "+String(e.delay);const a=document.createElement("input");a.setAttribute("type","range"),a.setAttribute("min","0"),a.setAttribute("max","300"),a.setAttribute("step","5"),a.addEventListener("change",t=>{e.changeThrottle(Number(t.target.value)),o.innerHTML="throttle: "+String(e.delay)}),document.body.appendChild(a),document.body.appendChild(o)})()}]);